---
.phpunit:unit:
  variables:
    JOB_CODE_REGEX: /phpunit:unit/
  artifacts:
    reports:
      junit: unit-report.xml
  script:
    - toolbox.sh modules add
    - toolbox.sh phpunit unit

.phpunit:integration:
  variables:
    JOB_CODE_REGEX: /phpunit:integration/
  artifacts:
    reports:
      junit: integration-report.xml
  script:
    - toolbox.sh modules add
    - toolbox.sh phpunit integration

.phpunit:api:rest:
  variables:
    JOB_CODE_REGEX: /phpunit:api:rest/
  artifacts:
    reports:
      junit: api-report.xml
  script:
    - toolbox.sh modules add
    - toolbox.sh phpunit api --type rest

.phpunit:api:graphql:
  variables:
    JOB_CODE_REGEX: /phpunit:api:graphql/
  artifacts:
    reports:
      junit: api-report.xml
  script:
    - toolbox.sh modules add
    - toolbox.sh phpunit api --type graphql
